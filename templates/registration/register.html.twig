{% extends 'base.html.twig' %}

{% block title %}Register{% endblock %}

{% block body %}
    <h2>Register</h2>
    {{ form_start(registrationForm) }}
    {{ form_row(registrationForm.username) }}
    {{ form_row(registrationForm.password) }}

    <div id="currencyField" style="display:none;">
        {{ form_row(registrationForm.currency) }}
    </div>

    {{ form_row(registrationForm.accountType) }}
    {{ form_row(registrationForm.register) }}
    {{ form_end(registrationForm) }}

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const accountTypeField = document.querySelector('#user_registration_accountType');
            const currencyField = document.querySelector('#currencyField');
            const agentRoleField = document.querySelector('.agent-role-selector'); // Adjust the selector as needed

            function toggleCurrencyDisplay() {
                if (accountTypeField.value === 'ROLE_USER') {
                    currencyField.style.display = '';
                    agentRoleField.style.display = 'none';
                } else {
                    currencyField.style.display = 'none';
                    agentRoleField.style.display = '';
                }
            }

            toggleCurrencyDisplay();
            accountTypeField.addEventListener('change', toggleCurrencyDisplay);
        });
    </script>
{% endblock %}
